    <%- include('./partials/head') %>
    <link rel="stylesheet" href="/css/registrationForm.css">
    <link rel="stylesheet" href="/css/header_footer.css">

    <title>Edicion de usuario</title>


</head>

<body>
    <%-include('./partials/header')%> 
    <section>
        <div class="camposObligatorios">

            <h4>Edicion de Usario</h4>
            <div>
                <!-- TODO: complatr validation errors -->


                <form action="/user/edit/<%=user.id%>?_method=PUT" method="POST" enctype="multipart/form-data">

                    <div class="field">
                        <label class="label" for="name">Nombre Completo</label>
                        <input class="campos <%=(locals.errors && errors.name)?'invalid':''%>" type="text" name="name"
                            placeholder="..." id="name" value="<%=(locals.oldData && oldData.name)?oldData.name:user.name%>">
                        <% if(locals.errors && errors.name){%>
                            <p class="error">
                                <%=errors.name.msg%>
                            </p>
                            <%}%>
                    </div>

                    <div class="field">
                        <label class="label" for="avatar">Avatar</label>
                        <input class="campos <%=(locals.errors && errors.avatar)?'invalid':''%>" type="file"
                            placeholder="... " id="avatar" name="avatar"
                            value="<%=(locals.oldData && oldData.avatar)?oldData.avatar:''%>">
                        <p class="allowed-formats">JPG,JPEG,PNG,GIF</p>
                        <% if(locals.errors && errors.avatar){%>
                            <p class="error">
                                <%=errors.avatar.msg%>
                            </p>
                            <%}%>
                    </div>

                    <div class="field">
                        <label class="label" for="email">Email</label>
                        <input class="campos <%=(locals.errors && errors.email)?'invalid':''%>" type="text"
                            placeholder="... " id="email" name="email"
                            value="<%=(locals.oldData && oldData.email)?oldData.email:user.email%>">
                        <% if(locals.errors && errors.email){%>
                            <p class="error">
                                <%=errors.email.msg%>
                            </p>
                            <%}%>
                    </div>

                    <div class="field">
                        <label class="label" for="telefono">Telefono</label>
                        <input class="campos <%=(locals.errors && errors.number)?'invalid':''%>" type="text"
                            placeholder="..." id="telefono" name="number"
                            value="<%=(locals.oldData && oldData.number)?oldData.number:user.phone_number%>">
                        <% if(locals.errors && errors.number){%>
                            <p class="error">
                                <%=errors.number.msg%>
                            </p>
                            <%}%>
                    </div>


                    <div class="field">
                        <label class="label" for="contraseña">Cambiar Contraseña</label>
                        <input class="campos <%=(locals.errors && errors.password)?'invalid':''%>" type="password"
                            placeholder="..." id="password" name="password">
                        <% if(locals.errors && errors.password){%>
                            <p class="error">
                                <%=errors.password.msg%>
                            </p>
                            <%}%>
                    </div>

                    <div class="field">
                        <label class="label" for="confirmar-contraseña">Confirmar contraseña</label>
                        <input class="campos <%=(locals.errors && errors.confirmPassword)?'invalid':''%>"
                            type="password" placeholder="..." id="Confirmar-constraseña" name="confirmPassword">
                        <% if(locals.errors && errors.confirmPassword){%>
                            <p class="error">
                                <%=errors.confirmPassword.msg%>
                            </p>
                            <%}%>
                    </div>
                    
                    <div class="button-container">
                        <button type="submit" id="modify-button" value="">Modificar</button>
                    </div>
                </form>
            </div>



        </div>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>